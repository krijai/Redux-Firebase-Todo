(this["webpackJsonpredux-firebase-todo"]=this["webpackJsonpredux-firebase-todo"]||[]).push([[0],{21:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var c=n(1),o=n.n(c),i=n(13),s=n.n(i),a=(n(30),n(12)),r=(n(21),n(31),n(3)),l=function(e){return Object(r.jsx)("button",{className:"circled-plus-btn",onClick:e.addNewItem,children:Object(r.jsx)("i",{className:"plus fa fa-plus"})})},d=n(7),u=n(15),b=n(10),f=n.n(b),p=n(16),j=n(9),m=n(14),h=n(20);h.a.initializeApp({apiKey:"AIzaSyBbXopct4zzunD7Y9YtZAlVXK6r-oMwwe4",authDomain:"todo-f31e4.firebaseapp.com",projectId:"todo-f31e4",storageBucket:"todo-f31e4.appspot.com",messagingSenderId:"386404027215",appId:"1:386404027215:web:9a8c1ccb8c2c0fbcb9933a",measurementId:"G-08S72LJYNP"});var O,x=h.a,g=(n(25),Object(j.b)("firebase/getTodos",function(){var e=Object(p.a)(f.a.mark((function e(t){var n,c,o;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=x.firestore().collection("todos"),!(c=n.get().then((function(e){return e.docs.map((function(e){return e.data()}))})))){e.next=8;break}return e.next=5,c;case 5:return o=e.sent,console.log("todosList",o),e.abrupt("return",o);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),v=Object(j.b)("firebase/addTodos",function(){var e=Object(p.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=x.firestore().collection("todos"),n.doc(t.id).set(t).then((function(){console.log("Item Added Successfully!")})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),I=Object(j.b)("firebase/toggleTodoItem",function(){var e=Object(p.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=x.firestore().collection("todos"),n.doc(t.id).update({completed:t.completed}).then((function(){console.log("Item toggleed Successfully!")})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),y=Object(j.c)({name:"todo",initialState:[],reducers:{addTodo:function(e,t){var n={id:Object(m.v4)(),title:t.payload.title,completed:!1};e.push(n)},toggleComplete:function(e,t){var n=e.findIndex((function(e){return e.id===t.payload.id}));e[n].completed=t.payload.completed}},extraReducers:(O={},Object(u.a)(O,g.pending,(function(e,t){console.log("extraReducers getTodos Pending Hit")})),Object(u.a)(O,g.fulfilled,(function(e,t){console.log("extraReducers getTodos Fulfilled Hit",t.payload),e.push(t.payload)})),Object(u.a)(O,v.fulfilled,(function(e,t){console.log("extraReducers addTodos fulfilled Hit")})),O)}),w=y.actions,S=(w.addTodo,w.toggleComplete,y.reducer),T=(n(41),function(e){var t=Object(d.c)();return Object(r.jsxs)("li",{className:"list-item ".concat(e.completed?"strike":""),children:[Object(r.jsx)("input",{type:"checkbox",className:"input-checkbox ".concat(e.completed?"active":""),onClick:function(){t(I({id:e.id,completed:!e.completed}))},checked:e.completed}),e.title]},e.id)}),N=(n(42),function(e){var t=Object(c.useState)(""),n=Object(a.a)(t,2),o=n[0],i=n[1],s=Object(d.c)();return Object(c.useEffect)((function(){x.firestore().collection("todos").onSnapshot((function(e){console.log("onSnapshot Hit");var t=[];e.forEach((function(e){t.push(e.data())})),console.log("onSnapshot updatedState ------ ",t),s(g())})),s(g())}),[s]),Object(r.jsx)("div",{children:Object(r.jsxs)("ul",{className:"list-group",children:[e.todos?e.todos.map((function(e){return Object(r.jsx)(T,{id:e.id,title:e.title,completed:e.completed})})):"",e.newItem?Object(r.jsxs)("form",{onSubmit:function(t){t.preventDefault(),o&&(s(v({id:Object(m.v4)(),title:o,completed:!1})),e.resetItemField(),i(""))},children:[Object(r.jsx)("input",{type:"text",placeholder:"Add Todo..",value:o,onChange:function(e){return i(e.target.value)}}),Object(r.jsx)("button",{type:"submit",children:" OK"})]}):""]})})}),k=(n(43),function(e){return Object(r.jsxs)("ul",{className:"completed-list",children:[Object(r.jsx)("span",{children:"Completed List Items"}),e.todos?e.todos.map((function(e){if(e.completed)return Object(r.jsx)("li",{children:e.title},e.id)})):""]})}),C=(n(44),function(e){var t,n=Object(c.useState)("todo-list"),o=Object(a.a)(n,2),i=o[0],s=o[1],l=[];return Object(r.jsxs)("div",{className:"tabs-container",children:[c.Children.map(e.children,(function(e){l.push(e.props.label),e.props.label===i&&(t=e.props.children)})),Object(r.jsx)(F,{buttons:l,activeTab:i,changeTab:function(e){s(e)}}),t]})}),F=function(e){return Object(r.jsx)("div",{className:"tab-btn-wrapper",children:e.buttons.map((function(t){return Object(r.jsx)("button",{className:t===e.activeTab?"active":"",onClick:function(){return e.changeTab(t)},children:Object(r.jsx)("i",{className:t})})}))})},L=function(e){return Object(r.jsx)(c.Fragment,{children:e.children})},A=function(){var e=Object(c.useState)(!1),t=Object(a.a)(e,2),n=t[0],o=t[1],i=Object(d.d)((function(e){var t=e.todos.length;return e.todos[t-1]}),d.b);return Object(r.jsxs)("div",{children:[Object(r.jsx)("h1",{className:"title",children:"My Todo List"}),Object(r.jsxs)("div",{className:"main-content",children:[Object(r.jsx)(l,{addNewItem:function(){o(!0)}}),Object(r.jsxs)(C,{children:[Object(r.jsx)(L,{label:"todo-list",children:Object(r.jsx)(N,{newItem:n,resetItemField:function(){o(!1)},todos:i})}),Object(r.jsx)(L,{label:"completed-list",children:Object(r.jsx)(k,{todos:i})})]})]})]})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),o(e),i(e),s(e)}))},B=(n(45),Object(j.a)({reducer:{todos:S}}));s.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(d.a,{store:B,children:Object(r.jsx)(A,{})})}),document.getElementById("root")),z()}},[[46,1,2]]]);
//# sourceMappingURL=main.d0383e0e.chunk.js.map