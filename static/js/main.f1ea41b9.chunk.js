(this["webpackJsonpredux-firebase-todo"]=this["webpackJsonpredux-firebase-todo"]||[]).push([[0],{29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var o=n(1),c=n.n(o),i=n(13),s=n.n(i),r=(n(29),n(12)),a=(n(30),n(31),n(3)),l=function(e){return Object(a.jsx)("button",{className:"circled-plus-btn",onClick:e.addNewItem,children:Object(a.jsx)("i",{className:"plus fa fa-plus"})})},d=n(7),u=n(15),b=n(10),f=n.n(b),p=n(16),j=n(9),h=n(14),m=n(20);m.a.initializeApp({apiKey:"AIzaSyBbXopct4zzunD7Y9YtZAlVXK6r-oMwwe4",authDomain:"todo-f31e4.firebaseapp.com",projectId:"todo-f31e4",storageBucket:"todo-f31e4.appspot.com",messagingSenderId:"386404027215",appId:"1:386404027215:web:9a8c1ccb8c2c0fbcb9933a",measurementId:"G-08S72LJYNP"});var O,g=m.a,x=(n(24),Object(j.b)("firebase/getTodos",function(){var e=Object(p.a)(f.a.mark((function e(t){var n,o,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=g.firestore().collection("todos"),!(o=n.get().then((function(e){return e.docs.map((function(e){return e.data()}))})))){e.next=8;break}return e.next=5,o;case 5:return c=e.sent,console.log("todosList",c),e.abrupt("return",c);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),v=Object(j.b)("firebase/addTodos",function(){var e=Object(p.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=g.firestore().collection("todos"),n.doc(t.id).set(t).then((function(){console.log("Item Added Successfully!")})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),I=Object(j.b)("firebase/toggleTodoItem",function(){var e=Object(p.a)(f.a.mark((function e(t){var n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=g.firestore().collection("todos"),n.doc(t.id).update({completed:t.completed}).then((function(){console.log("Item toggleed Successfully!")})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),S=Object(j.c)({name:"todo",initialState:[],reducers:{addTodo:function(e,t){var n={id:Object(h.v4)(),title:t.payload.title,completed:!1};console.log("dispatch addTodo Hitttt",n),e.push(n),console.log("dispatch addTodo After Hitttt",e)},toggleComplete:function(e,t){console.log("toggleComplete-------------",e);var n=e.findIndex((function(e){return e.id===t.payload.id}));console.log("index--------------",n)}},extraReducers:(O={},Object(u.a)(O,x.pending,(function(e,t){console.log("extraReducers getTodos Pending Hit")})),Object(u.a)(O,x.fulfilled,(function(e,t){console.log("extraReducers getTodos Fulfilled Hit",t.payload),e.push(t.payload)})),Object(u.a)(O,v.fulfilled,(function(e,t){console.log("extraReducers addTodos fulfilled Hit")})),O)}),T=S.actions,w=(T.addTodo,T.toggleComplete,S.reducer),y=(n(41),function(e){var t=Object(d.c)();return Object(a.jsxs)("li",{className:"list-item ".concat(e.completed?"strike":""),children:[Object(a.jsx)("input",{type:"checkbox",className:"input-checkbox ".concat(e.completed?"active":""),onClick:function(){t(I({id:e.id,completed:!e.completed}))},checked:e.completed}),e.title]},e.id)}),k=(n(42),function(e){var t=Object(o.useState)(""),n=Object(r.a)(t,2),c=n[0],i=n[1],s=Object(d.c)();return Object(o.useEffect)((function(){g.firestore().collection("todos").onSnapshot((function(e){console.log("onSnapshot Hit");var t=[];e.forEach((function(e){t.push(e.data())})),console.log("onSnapshot updatedState ------ ",t),s(x())})),s(x())}),[s]),Object(a.jsx)("div",{children:Object(a.jsxs)("ul",{className:"list-group",children:[e.todos?e.todos.map((function(e){return Object(a.jsx)(y,{id:e.id,title:e.title,completed:e.completed})})):"",e.newItem?Object(a.jsxs)("form",{onSubmit:function(t){t.preventDefault(),c&&(s(v({id:Object(h.v4)(),title:c,completed:!1})),e.resetItemField(),i(""))},children:[Object(a.jsx)("input",{type:"text",placeholder:"Add Todo..",value:c,onChange:function(e){return i(e.target.value)}}),Object(a.jsx)("button",{type:"submit",children:" OK"})]}):""]})})}),C=function(e){return Object(a.jsxs)("ul",{children:[Object(a.jsx)("span",{children:"Completed List Items"}),e.todos?e.todos.map((function(e){if(e.completed)return Object(a.jsx)("li",{children:e.title},e.id)})):""]})},N=(n(43),function(e){var t,n=Object(o.useState)("todo-list"),c=Object(r.a)(n,2),i=c[0],s=c[1],l=[];return Object(a.jsxs)("div",{className:"tabs-container",children:[o.Children.map(e.children,(function(e){l.push(e.props.label),e.props.label===i&&(t=e.props.children)})),Object(a.jsx)(F,{buttons:l,activeTab:i,changeTab:function(e){s(e)}}),t]})}),F=function(e){return Object(a.jsx)("div",{className:"tab-btn-wrapper",children:e.buttons.map((function(t){return Object(a.jsx)("button",{className:t===e.activeTab?"active":"",onClick:function(){return e.changeTab(t)},children:Object(a.jsx)("i",{className:t})})}))})},A=function(e){return Object(a.jsx)(o.Fragment,{children:e.children})},H=function(){var e=Object(o.useState)(!1),t=Object(r.a)(e,2),n=t[0],c=t[1],i=Object(d.d)((function(e){console.log("useSelectoruseSelector");var t=e.todos.length;return e.todos[t-1]}),d.b);return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"My Todo List"}),Object(a.jsx)(l,{addNewItem:function(){c(!0)}}),Object(a.jsxs)(N,{children:[Object(a.jsx)(A,{label:"todo-list",children:Object(a.jsx)(k,{newItem:n,resetItemField:function(){c(!1)},todos:i})}),Object(a.jsx)(A,{label:"completed-list",children:Object(a.jsx)(C,{todos:i})})]})]})},L=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(t){var n=t.getCLS,o=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),o(e),c(e),i(e),s(e)}))},z=(n(44),Object(j.a)({reducer:{todos:w}}));s.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(d.a,{store:z,children:Object(a.jsx)(H,{})})}),document.getElementById("root")),L()}},[[45,1,2]]]);
//# sourceMappingURL=main.f1ea41b9.chunk.js.map